(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(16),s=a.n(n),i=(a(47),a(4)),o=(a(48),a(13)),l=a(1),u=function(){return Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light shadow-sm mb-4",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(o.b,{className:"nav-item nav-link",to:"/",children:"Herolo Weather App"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"float-right",children:Object(l.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarNav",children:Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.c,{className:"nav-item nav-link ml-5",to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.c,{className:"nav-item nav-link ml-5",to:"/favorites",children:"Favorites"})})]})})})]})})},d=a(11),j=a.n(d),h=a(14),b=a(12),f=a(18),m=a.n(f),p=a(15);m.a.defaults.baseURL="http://dataservice.accuweather.com",m.a.interceptors.response.use(null,(function(e){return p.a.configure(),e.response&&e.response.status>=403&&p.a.error("An unexpected error occurrred."),Promise.reject(e)}));var v="pRtGG5DvSKEjFjmvBj7GAIBa0Ze3EcMw";function O(e){return m.a.get("/locations/v1/cities/autocomplete?apikey=".concat(v,"&q=").concat(e,"&language=en"))}var y={locationAutocomplete:O,getCurrentWeather:function(e){return m.a.get("/currentconditions/v1/".concat(e,"?apikey=").concat(v,"&language=en&details=false"))},get5DaysForecast:function(e){return m.a.get("/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(v,"&language=en&details=false&metric=true"))}},x=a(5),g="GET_CURRENT_WEATHER",N="GET_5_DAYS_FORECAST",I="SET_CITY_ID",T="SET_CITY_NAME",w="TOGGLE_DEGREE_TYPE",F=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:T,payload:e})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:I,payload:e})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.getCurrentWeather(e);case 3:c=t.sent,r=c.data,a({type:g,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.get5DaysForecast(e);case 3:c=t.sent,r=c.data,a({type:N,payload:r.DailyForecasts}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},D=Object(x.b)(null,{setCityId:C,setCityName:F,get5DaysForecast:E,getCurrentWeather:W})((function(e){var t=e.setCityId,a=e.setCityName,r=e.get5DaysForecast,n=e.getCurrentWeather,s=Object(c.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],d=Object(c.useState)([]),f=Object(b.a)(d,2),m=f[0],v=f[1];Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(o);case 2:t=e.sent,v(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.length>0?e():u("")}),[o]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)("input",{value:o,onChange:function(e){p.a.configure();var t=e.target.value;/[^A-Za-z]/gi.test(t)&&Object(p.a)("Endlish latters only."),t=t.replace(/[^A-Za-z]/gi,""),u(t)},className:"form-control ",type:"search",placeholder:"Search","aria-label":"Search"})}),Object(l.jsx)("ul",{className:"list-group ul-list-group",children:o.length>0&&m&&m.splice(0,4).map((function(e){return Object(l.jsx)("li",{className:"list-group-item",onClick:function(){return function(e){Object(p.a)("city selected"),n(e.Key),r(e.Key),a(e.LocalizedName),t(e.Key),u("")}(e)},children:e.LocalizedName},e.Key)}))})]})})),k={setIconId:function(e){var t=e,a=/[0-9]{2}/.test(e);return toString(e),a||(t="0"+e),t}},S=(a(78),function(e){var t=e.item,a=e.degreeType,r=Object(c.useState)(null),n=Object(b.a)(r,2),s=n[0],i=n[1];Object(c.useEffect)((function(){var e=t.Day.Icon;e=k.setIconId(e),i(e)}),[t.Day.Icon,s]);return s&&Object(l.jsx)("div",{className:"col-md-2 col-sm-4 mr-2",children:Object(l.jsxs)("div",{className:"card card-daily",children:[Object(l.jsx)("span",{className:"icon",children:Object(l.jsx)("img",{className:"img-fluid",src:"https://developer.accuweather.com/sites/default/files/".concat(s,"-s.png"),alt:"weatherImage"})}),Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("p",{children:function(){var e=t.Date;return new Date(e).toString().split(" ")[0]}()})}),Object(l.jsxs)("div",{className:"temp",children:[a?t.celsius:t.fahrenheit,Object(l.jsx)("sup",{children:"\xb0"})]})]})})}),_=(a(79),Object(x.b)((function(e){return{cityName:e.forecast.cityName,degreeType:e.forecast.degreeType,celsius:e.forecast.currentWeather[0].Temperature.Metric.Value,fahrenheit:e.forecast.currentWeather[0].Temperature.Imperial.Value,WeatherIcon:e.forecast.currentWeather[0].WeatherIcon}}),{})((function(e){var t=e.cityName,a=e.WeatherIcon,r=e.degreeType,n=e.celsius,s=e.fahrenheit,i=Object(c.useState)(null),o=Object(b.a)(i,2),u=o[0],d=o[1];return Object(c.useEffect)((function(){var e=a;e=k.setIconId(e),d(e)}),[a]),n&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("div",{className:" mb-3",style:{width:"150px",height:"85px"},children:Object(l.jsx)("img",{id:"current-weather-icon",className:"img-fluid",style:{width:"50"},src:"https://developer.accuweather.com/sites/default/files/".concat(u,"-s.png"),alt:"weatherImage"})}),Object(l.jsxs)("div",{className:"ml-2 mt-3",children:[Object(l.jsx)("p",{className:"card-title",children:t}),Object(l.jsxs)("p",{className:"card-text",children:[r?n:s," \u2103"]})]})]})}))),A=a(19),L="ADD_CITY_TO_FAVORITE",R="REMOVE_CITY_FROM_FAVORITE",M=Object(x.b)((function(e){return{currentWeather:e.forecast.currentWeather,cityName:e.forecast.cityName,cityId:e.forecast.cityId,favoriteList:e.favorites.favoriteList}}),{addCityToFavorite:function(e){return function(t){t({type:L,payload:e})}},removeCityFromFavorite:function(e){return function(t){t({type:R,payload:e})}}})((function(e){var t,a=e.addCityToFavorite,r=e.removeCityFromFavorite,n=e.cityId,s=e.cityName,i=e.currentWeather,o=e.favoriteList,u=Object(c.useState)(null),d=Object(b.a)(u,2),j=d[0],h=d[1];Object(c.useEffect)((function(){h(0!==o.filter((function(e){return e.cityId===n})).length)}),[n,o]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("button",(t={className:"favorite-btn",onClick:function(){if(j)r(n);else{var e=i[0],t=e.WeatherText,c=e.WeatherIcon,o=i[0].Temperature.Metric.Value,l=i[0].Temperature.Imperial.Value;a({cityId:n,cityName:s,WeatherText:t,celsius:o,fahrenheit:l,WeatherIcon:c})}}},Object(A.a)(t,"className","btn "+(j?"btn-danger":"btn-secondary")),Object(A.a)(t,"children",[Object(l.jsx)("i",{className:"fas fa-heart mr-2"}),j?"Remove From Favorites":"Add To Favorites"]),t))})})),G=Object(x.b)((function(e){return{currentWeather:e.forecast.currentWeather,fiveDaysForecast:e.forecast.fiveDaysForecast,cityId:e.forecast.cityId,degreeType:e.forecast.degreeType}}),{get5DaysForecast:E,getCurrentWeather:W,toggleDegreeType:function(){return function(e){e({type:w})}}})((function(e){var t=e.cityId,a=e.currentWeather,r=e.fiveDaysForecast,n=e.get5DaysForecast,s=e.getCurrentWeather,i=e.toggleDegreeType,o=e.degreeType;Object(c.useEffect)((function(){u()}),[]);var u=function(){s(t),n(t)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"row search",children:Object(l.jsx)("div",{className:"col-md-6 mx-auto",children:Object(l.jsx)(D,{})})}),Object(l.jsx)("div",{className:"row justify-content-center mt-2",children:Object(l.jsx)("div",{className:"col-2 ",children:Object(l.jsx)("button",{className:"btn btn-dark",onClick:function(){i()},children:"switch C / F"})})})]}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12 mt-3",children:Object(l.jsxs)("div",{id:"weather-window",className:"card",style:{height:"580px"},children:[a.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"p-3 d-flex",children:[Object(l.jsx)("span",{className:"mr-auto p-2",children:Object(l.jsx)(_,{})}),Object(l.jsx)("span",{className:"float-right",children:Object(l.jsx)(M,{})})]}),Object(l.jsx)("div",{className:"card-body mb-4",children:Object(l.jsx)("h4",{className:"card-title text-center",children:a[0].WeatherText})})]}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row d-flex justify-content-center mb-3",children:r.length>0&&r.map((function(e,t){return Object(l.jsx)(S,{item:e,degreeType:o},t)}))})})]})})})})]})})),V=(a(80),Object(x.b)(null,{setCityId:C,setCityName:F,getCurrentWeather:W})((function(e){var t=e.cityId,a=e.cityName,r=e.fahrenheit,n=e.celsius,s=e.degreeType,i=e.weatherText,o=e.history,u=e.setCityId,d=e.setCityName,j=e.weatherIcon,h=Object(c.useState)(""),f=Object(b.a)(h,2),m=f[0],p=f[1];Object(c.useEffect)((function(){var e=j;e=k.setIconId(e),p(e)}),[j]);return Object(l.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2 m-3",children:Object(l.jsxs)("div",{className:"card card-favorite",onClick:function(){u(t),d(a),o.replace("/")},children:[Object(l.jsx)("span",{className:"icon",children:Object(l.jsx)("img",{className:"img-fluid",src:"https://developer.accuweather.com/sites/default/files/".concat(m,"-s.png"),alt:"weatherImage"})}),Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("p",{children:a})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:" mx-auto",children:Object(l.jsx)("div",{className:"header",children:i})})}),Object(l.jsxs)("div",{className:"temp",children:[s?n:r,Object(l.jsx)("sup",{children:"\xb0"})]})]})})}))),Y=Object(x.b)((function(e){return{favoriteList:e.favorites.favoriteList,degreeType:e.forecast.degreeType}}),{})((function(e){var t=e.favoriteList,a=e.history,c=e.degreeType;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)("h1",{children:"Favorite Cities"})})}),Object(l.jsx)("div",{className:"row mt-5",children:t.map((function(e){return Object(l.jsx)(V,{cityName:e.cityName,cityId:e.cityId,celsius:e.celsius,degreeType:c,fahrenheit:e.fahrenheit,weatherText:e.WeatherText,weatherIcon:e.WeatherIcon,history:a},e.cityId)}))})]})})})),K=a(3),z=function(){return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)("header",{children:Object(l.jsx)(u,{})}),Object(l.jsx)("main",{children:Object(l.jsxs)(K.c,{children:[Object(l.jsx)(K.a,{exact:!0,path:"/",component:G}),Object(l.jsx)(K.a,{exact:!0,path:"/favorites",render:function(e){return Object(l.jsx)(Y,Object(i.a)({},e))}})]})}),Object(l.jsx)("footer",{children:Object(l.jsxs)("p",{className:"border-top pt-3  text-center ",children:["Herolo Weather \xa9 ",(new Date).getFullYear()]})})]})},H=(a(81),a(37),a(82),a(84),a(85),a(22)),B=a(40),J=a(41),Z={fiveDaysForecast:[],currentWeather:[],degreeType:!0,cityId:"215854",cityName:"Tel Aviv"},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(i.a)(Object(i.a)({},e),{},{currentWeather:t.payload});case N:return Object(i.a)(Object(i.a)({},e),{},{fiveDaysForecast:t.payload.map((function(e){var t=e.Temperature.Maximum.Value;return Object(i.a)(Object(i.a)({},e),{},{celsius:t,fahrenheit:9*t/5+32})}))});case w:return Object(i.a)(Object(i.a)({},e),{},{degreeType:!e.degreeType});case I:return Object(i.a)(Object(i.a)({},e),{},{cityId:t.payload});case T:return Object(i.a)(Object(i.a)({},e),{},{cityName:t.payload});default:return e}},U=a(42),q={favoriteList:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(i.a)(Object(i.a)({},e),{},{favoriteList:[t.payload].concat(Object(U.a)(e.favoriteList))});case R:return Object(i.a)(Object(i.a)({},e),{},{favoriteList:e.favoriteList.filter((function(e){return e.cityId!==t.payload}))});default:return e}},X=Object(J.composeWithDevTools)({}),$=Object(H.combineReducers)({forecast:P,favorites:Q}),ee=Object(H.createStore)($,X(Object(H.applyMiddleware)(B.a)));ee.subscribe((function(){!function(e){var t=JSON.stringify(e);localStorage.setItem("state",t)}(ee.getState())}));var te=ee;s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(x.a,{store:te,children:Object(l.jsx)(z,{})})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.6b85726e.chunk.js.map